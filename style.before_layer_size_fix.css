/* ============ THEME ============ */
:root{
  --ink:#132015;
  --fg:#0e0f0f;
  --sim-green:#3f6f39;
  --sim-light:#8bd17a;
  --sim-blue:#8ad2ff;
  --sim-yellow:#ffd85a;
  --sim-orange:#ff9b42;
  --sim-pink:#ff66a2;
  --paper:#fff7e6;
  --shadow: 0 6px 0 rgba(0,0,0,.2);
}

*{box-sizing:border-box}
html,body{height:100%;scroll-behavior:smooth}
body{
  margin:0;
  color:#0a0a0a;
  font-family:'Fredoka', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  background: var(--paper);
  overflow-x:hidden;
}

/* Cartoon headings */
h1,h2,.logo,.btn.comic{font-family:'Bangers','Luckiest Guy',cursive; letter-spacing:1px}

.hidden{display:none!important}

/* ============ INTRO ============ */
.intro{
  position:fixed;
  inset:0;
  z-index:1000;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  overflow:hidden;
}
.intro .intro-bg{
  position:absolute; inset:0;
  background: url('assets/intro-bg.png') center/cover no-repeat;
  filter: contrast(1.05) saturate(1.1);
}
.road{
  position:absolute; left:0; right:0; bottom:12vh; height:34px;
  background: repeating-linear-gradient(90deg, #3b3324 0 30px, #2a2519 30px 34px);
  border-top:6px solid #231d14;
  border-bottom:6px solid #231d14;
  box-shadow: inset 0 8px 0 rgba(0,0,0,.25), 0 -6px 0 rgba(0,0,0,.2);
}
.sprite{
  user-select:none; -webkit-user-drag:none;
  image-rendering: -webkit-optimize-contrast;
}
.sprite--intro{
  position:absolute; left:-40vw; width:min(40vmin,360px);
  filter: drop-shadow(0 10px 0 rgba(0,0,0,.25));
}
.click-btn{
  position:absolute; bottom:22vh;
  transform:translateY(140%);
  transition:transform .6s ease;
}
.click-btn.show{ transform:translateY(0); }

/* ============ HEADER ============ */
.header{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; backdrop-filter: blur(6px);
  background:linear-gradient(180deg, rgba(255,247,230,.86), rgba(255,247,230,.55));
  border-bottom: 4px solid #2e2b22;
  box-shadow: var(--shadow);
}
.logo{margin-left: 100px;  font-size:32px;color:var(--sim-green); text-shadow:2px 2px 0 #000}
.socials{margin-right: 100px; display:flex; gap:10px}
.icon{
  width:42px; height:42px; display:grid; place-items:center;
  color:#fff; background:#222; border:4px solid #000; border-radius:50%;
  box-shadow: var(--shadow); transition: transform .15s ease, filter .15s ease;
}
.icon.tg{background:linear-gradient(135deg,#37aee2,#1e96c8)}
.icon.tw{background:#111}
.icon.dex{background:linear-gradient(135deg,#000000,#000000)}
.icon:hover{ transform: translateY(-2px) rotate(-3deg); filter:brightness(1.15)}

/* ============ SLIDES ============ */
.site{opacity:0; animation: siteIn .6s .1s forwards ease-out}
@keyframes siteIn{to{opacity:1}}

.slide{ position:relative; min-height:100svh; overflow:hidden}
.slide-1{
  background: url('assets/simphson-main-bg.jpg') center/cover no-repeat fixed;
  display:grid; place-items:center;
  padding: clamp(60px, 8vw, 120px) 20px 20px;
}
.slide-2{
  background: url('assets/bath_room.png') center/cover no-repeat;
  padding: 16vh 20px 20px;
}
.slide-3{
  background: url('assets/simphson-bad.png') center/cover no-repeat fixed;
  padding: 16vh 20px 20px;
}

/* CTA block */
.cta{
  background: rgba(255,255,255,.85); border:6px solid #000;
  padding:clamp(16px,3vw,1px); border-radius:20px;
  box-shadow: var(--shadow); max-width: 780px; width:min(92vw,780px);
}
.cta h1{font-size: clamp(34px, 6.2vw, 64px); margin:0 0 8px}
.cta h1 span{color:var(--sim-orange); text-shadow:2px 2px 0 #000}
.tag{ margin:0 0 14px; font-weight:700 }
.btn-row{ display:flex; gap:12px; flex-wrap:wrap}
.contract{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-top:12px}
.contract .label{font-weight:700}
.contract code{
  background:#1a1a1a; color:#fff; padding:6px 10px; border-radius:12px;
  border:4px solid #000; font-family: ui-monospace, Menlo, monospace
}

/* Buttons */
.btn{
  font-family:'Bangers','Luckiest Guy',cursive; letter-spacing:1px;
  border:4px solid #000; border-radius:18px; padding:12px 18px;
  cursor:pointer; box-shadow: var(--shadow); text-decoration:none;
  color:#000; background:var(--sim-yellow); font-size:22px;
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
.btn.primary{ background: linear-gradient(180deg,#ffd85a,#ffb21a)}
.btn.secondary{ background: linear-gradient(180deg,#8ad2ff,#54b1ff)}
.btn.mini{ font-size:16px; padding:8px 12px; background:linear-gradient(180deg,#ddd,#bbb)}
.btn:hover{ transform: translateY(-2px) rotate(-1.5deg); filter:brightness(1.05)}
.btn:active{ transform: translateY(1px)}

/* Runner sprite */
.runner{
  position:absolute; bottom:7vh; left:20px; width:min(100vmin,360px);
  filter: drop-shadow(0 10px 0 rgba(0,0,0,.3));
}

/* About slide */
.slide-2 .content{
  max-width:760px; background: rgba(255,255,255,.9);
  border:6px solid #000; border-radius:20px; padding:18px;
  box-shadow: var(--shadow);
}
.slide-2 h2{font-size: clamp(30px, 5vw, 48px); margin:0 0 8px}
.slide-2 .hint{font-weight:700}
.bigboy{
  position:absolute; bottom:4vh; right: min(6vw, 40px); width:min(42vmin,460px);
  filter: drop-shadow(0 10px 0 rgba(0,0,0,.3));
}
#bananaField span{
  position:absolute; font-size: clamp(24px,5vw,40px); pointer-events:none;
  animation: floatUp 2.3s ease-out forwards;
}
@keyframes floatUp{
  from{ transform: translate(-50%,0) scale(1); opacity:1}
  to{ transform: translate(-50%,-160px) rotate(12deg) scale(1.2); opacity:0}
}

/* Bedroom slide */
.controls{ display:flex; gap:12px; flex-wrap:wrap; background: rgba(255,255,255,.9); padding:12px; border:6px solid #000; border-radius:18px; width:max-content; box-shadow: var(--shadow)}
#fxLayer .zz, #fxLayer .donut{
  position:absolute; font-size: clamp(24px,6vw,60px); pointer-events:none;
  filter: drop-shadow(0 6px 0 rgba(0,0,0,.25));
}
.zz{ animation: zFloat 2.4s ease-out forwards }
@keyframes zFloat{
  from{ transform: translateY(0); opacity:1}
  to{ transform: translateY(-200px) rotate(-10deg); opacity:0}
}
.donut{ animation: donutFall 1.6s ease-in forwards }
@keyframes donutFall{
  from{ transform: translateY(-280px) }
  to{ transform: translateY(0) }
}

/* Lights */
.slide-3.night{
  filter: brightness(.65) saturate(.85);
}
.footer{
  text-align:center; padding:30px 10px; background:#111; color:#fff;
  border-top:6px solid #000;
}

/* Responsive */
@media (max-width: 720px){
  .header{ padding:12px 14px}
  .logo{ font-size:26px }
  .icon{ width:38px; height:38px}
  .runner{ bottom: 10vh }
  .sprite--intro{ width:min(50vmin,360px) }
}

/* === Scoped tweaks for first slide CTA (compact + higher) === */
.slide-1{
  /* move content higher on the screen */
  place-items: start center;
  padding: clamp(24px, 5vw, 72px) 20px 20px;
}
.slide-1 .cta{
  max-width: 640px;
}
.slide-1 .cta h1{
  font-size: clamp(28px, 5vw, 48px);
  margin-bottom: 6px;
}
.slide-1 .tag{
  font-size: 16px;
  margin-bottom: 10px;
}
.slide-1 .btn-row{ gap: 8px }
.slide-1 .btn{
  font-size: 18px;
  padding: 8px 12px;
  border-width: 3px;
  border-radius: 14px;
}
.slide-1 .btn.mini{
  font-size: 14px;
  padding: 6px 10px;
}
.slide-1 .contract{
  margin-top: 10px;
  gap: 8px;
}
.slide-1 .contract code{
  font-size: 14px;
  padding: 4px 8px;
  border-width: 3px;
  border-radius: 10px;
}


/* === Size-only overrides: make Simphson bigger siteâ€‘wide === */
.sprite--intro{ width: min(70vmin, 800px); }
.runner{ width:min(48vmin, 600px) }
.bigboy{ width:min(55vmin, 900px) }

/* Ensure larger sizes also on small screens */
@media (max-width: 720px){
  .sprite--intro{ width:min(400vmin, 420px) }
  .runner{ width:min(60vmin, 460px) }
  .bigboy{ width:min(60vmin, 900px) }
}


/* === SLIDE 2: Water shower & bubbles (non-invasive) === */
.water-drop, .bubble {
  position: fixed; /* placed via JS using viewport coords */
  pointer-events: none;
  will-change: transform, opacity;
  z-index: 2;
  filter: drop-shadow(0 4px 0 rgba(0,0,0,.15));
}

/* Water drops: thin blue streaks falling down */
.water-drop{
  width: 2px;
  height: 18px;
  background: linear-gradient(180deg, var(--sim-blue), #54b1ff);
  border-radius: 2px;
  opacity: .85;
  animation: showerFall var(--dur, 1.1s) linear forwards;
}

/* Bubbles: soft circles rising and fading */
.bubble{
  border: 2px solid rgba(255,255,255,.75);
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(255,255,255,.15) 60%, transparent 70%);
  border-radius: 50%;
  opacity: .9;
  animation: bubbleRise var(--dur, 2.8s) ease-out forwards;
}

/* Keyframes driven by CSS vars for distance */
@keyframes showerFall{
  from{ transform: translateY(0); opacity: .9 }
  to  { transform: translateY(var(--fall, 480px)); opacity: .95 }
}
@keyframes bubbleRise{
  from{ transform: translateY(0) translateX(0); opacity: .95 }
  to  { transform: translateY(calc(-1 * var(--rise, 420px))) translateX(var(--drift, 60px)); opacity: 0 }
}


/* Slide-3 donuts: fall through entire section */
@keyframes donutDrop{
  from{ transform: translateY(0) }
  to  { transform: translateY(var(--fall, 100vh)) }
}


/* === Center CTA content on slide-1 (scoped) === */
.slide-1 .cta{
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.slide-1 .btn-row{
  justify-content: center;
}
.slide-1 .contract{
  justify-content: center;
}


/* === Slide-2 Content: center + colorful, readable styling (scoped) === */
.slide-2 .content{
  text-align: center;
  margin-inline:auto;
  max-width: min(800px, 92vw);
}

.slide-2 .content h2, 
.slide-2 .content h3{
  font-family: 'Bangers', cursive;
  letter-spacing: .5px;
  line-height: 1.05;
  /* gradient text */
  background: linear-gradient(90deg, var(--sim-orange), var(--sim-pink), var(--sim-yellow));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 2px 0 rgba(0,0,0,.15);
}

.slide-2 .content h2{ font-size: clamp(32px, 5vw, 56px); margin:.2em 0 .3em }
.slide-2 .content h3{ font-size: clamp(22px, 3.6vw, 34px); margin:.4em 0 .4em }

.slide-2 .content p{
  color: var(--fg);
  font-family: 'Fredoka', system-ui, sans-serif;
  font-weight: 500;
  font-size: clamp(16px, 2.2vw, 20px);
  line-height: 1.6;
  margin: .5em auto;
  /* subtle multi-color emphasis via gradient underline */
  text-decoration: underline;
  text-decoration-color: color-mix(in oklab, var(--sim-blue) 40%, var(--sim-green) 60%);
  text-decoration-thickness: 2px;
  text-underline-offset: .22em;
}

.slide-2 .content strong{
  color: var(--sim-green);
  text-shadow: 0 1px 0 rgba(0,0,0,.12);
}

.slide-2 .content em{
  color: var(--sim-blue);
  font-style: normal;
}

.slide-2 .content .btn, 
.slide-2 .content .btn-row{
  justify-content: center;
}

/* === Slide-2: center the controls block directly under content (scoped) === */
.slide-2 .controls{
  margin: clamp(12px, 2.5vw, 18px) auto 0;
  justify-content: center;
}

.slide-3 .controls{
  margin: clamp(12px, 2.5vw, 18px) auto 0;
  justify-content: center;
}
/* ================== RESPONSIVE ENHANCEMENTS (2025-09-12) ================== */
/* Tablet landscape & portrait */
@media (max-width: 1024px){
  .slide-1,
  .slide-2,
  .slide-3{
    padding: clamp(56px, 8vh, 96px) clamp(14px, 4vw, 28px) 24px;
  }

  header, .header{
    padding: 10px 14px;
    gap: 10px;
  }

  .cta, .content{
    max-width: min(860px, 94vw);
  }

  .controls{
    gap: 10px;
  }
}

/* Large phones & small tablets */
@media (max-width: 768px){
  :root{
    --radius: 16px;
  }

  header, .header{
    grid-template-columns: 1fr auto;
  }

  .logo{ font-size: clamp(22px, 6vw, 28px) }
  .icon{ width: 36px; height: 36px }

  .cta{
    padding: clamp(14px, 3.2vw, 20px);
  }

  .cta .row,
  .contract{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }

  .contract code{
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
    display: block;
  }

  .btn{
    font-size: clamp(14px, 3.8vw, 16px);
    padding: 12px 14px;
  }

  .controls{
    justify-content: center;
  }
  .controls .btn{
    flex: 1 1 46%;
    min-width: 140px;
  }

  .sprite,
  .sprite--intro,
  .runner,
  .bigboy{
    max-width: 100vw;
  }
}

/* Compact phones */
@media (max-width: 560px){
  .slide-1,
  .slide-2,
  .slide-3{
    padding-top: calc(64px + env(safe-area-inset-top));
    padding-left: clamp(10px, 4vw, 16px);
    padding-right: clamp(10px, 4vw, 16px);
  }

  .cta, .content{
    border-width: 4px;
    gap: 10px;
  }

  .cta h1,
  .content h2,
  .content h3{
    font-size: clamp(20px, 7vw, 28px);
    line-height: 1.05;
    text-align: center;
  }

  .cta p,
  .content p,
  .contract{
    font-size: clamp(14px, 4vw, 16px);
  }

  .contract .label{
    min-width: 0;
  }

  .controls{
    gap: 8px;
  }
  .controls .btn{
    flex: 1 1 100%;
    width: 100%;
  }

  /* Keep important sprites visible and centered on small screens */
  .slide .layer, .slide .hero, .slide .grid{
    justify-content: center;
  }

  .runner{ bottom: 8vh }
}

/* Ultra narrow devices */
@media (max-width: 380px){
  .logo{ font-size: 18px }
  .icon{ width: 30px; height: 30px }

  .cta, .content{ padding: 12px }
  .btn{ padding: 10px 12px; font-size: 14px }
}

/* Respect notches / safe area */
@supports (padding-top: env(safe-area-inset-top)){
  body{ padding-top: env(safe-area-inset-top) }
  header, .header{ padding-top: calc(12px + env(safe-area-inset-top)) }
}
/* ================== END RESPONSIVE ENHANCEMENTS ================== */


/* ================== MOBILE-ONLY CONTROLS FIX (2025-09-12) ================== */
@media (max-width: 560px){
  /* Make button blocks on slide-2 and slide-3 stack nicely on phones */
  .slide-2 .controls,
  .slide-3 .controls{
    width: 100%;
    max-width: 640px;
    justify-content: center;
    align-items: stretch;
    gap: 12px;
    padding: 12px;
    box-sizing: border-box;
    position: relative;
    z-index: 5; /* keep above effects layers */
  }

  .slide-2 .controls .btn,
  .slide-3 .controls .btn{
    flex: 1 1 100%;
    min-height: 48px;       /* comfortable tap target */
    font-size: 16px;
    line-height: 1.15;
    width: 100%;
  }

  /* Space from preceding text/content */
  .slide-2 .controls{ margin-top: 12px }
  .slide-3 .controls{ margin-top: 12px }
}

@media (max-width: 380px){
  .slide-2 .controls .btn,
  .slide-3 .controls .btn{
    font-size: 15px;
    padding: 12px 14px;
    min-height: 46px;
  }
}
/* ================== END MOBILE-ONLY CONTROLS FIX ================== */


/* ===== MOBILE-ONLY: remove borders on header socials ===== */
@media (max-width: 560px){
  .header .socials .icon{ border: 0 !important; }
}


/* === Animated gradient + zoom for header logo and Slide-1 $PEPER === */
.header .logo,
.slide-1 .cta h1 span{
  display:inline-block;
  background: linear-gradient(90deg, #22c55e, #3b82f6, #ec4899, #22c55e);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientFlow 6s linear infinite, zoomPulse 2.4s ease-in-out infinite;
  text-shadow:none;
  transform-origin: center;
  will-change: transform, background-position;
}

@keyframes gradientFlow{
  0%{background-position: 0% 50%}
  50%{background-position: 100% 50%}
  100%{background-position: 0% 50%}
}

@keyframes zoomPulse{
  0%,100%{ transform: scale(1) }
  50%{ transform: scale(1.08) }
}


/* === Attention animation for BUY button on Slide-1 only === */
.slide-1 .btn.primary{
  position: relative;
  animation: buyPulse 1.8s ease-in-out infinite;
  transform-origin: center;
  will-change: transform, box-shadow;
}

.slide-1 .btn.primary::after{
  content:"";
  position:absolute; inset:-6px;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 50%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%);
  filter: blur(2px);
  opacity: 0;
  animation: buyGlow 1.8s ease-in-out infinite;
  pointer-events:none;
}

@keyframes buyPulse{
  0%,100%{ transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 199, 0, 0.0); }
  35%{ transform: scale(1.06); box-shadow: 0 8px 18px 0 rgba(0,0,0,.25); }
  60%{ transform: scale(1.02); box-shadow: 0 4px 10px 0 rgba(0,0,0,.18); }
}

@keyframes buyGlow{
  0%,100%{ opacity: 0; }
  35%{ opacity: .9; }
  60%{ opacity: .4; }
}

/* subtle wiggle on hover devices */
@media (hover:hover){
  .slide-1 .btn.primary:hover{
    animation-duration: 1.4s;
    transform: scale(1.08) rotate(-0.5deg);
  }
}
